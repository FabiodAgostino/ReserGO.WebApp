@using MudBlazor;
@using ReserGO.UI.Utils
@using ReserGO.Utils.UI
@using ReserGO.ViewModel.Interface.Authentication;
@using Microsoft.AspNetCore.Components.Authorization
@using ReserGO.DTO;
@using ReserGO.UI.Login
@using ReserGO.UI.UIComponents

@inject NavigationManager NaviMngr;
@inherits BaseComponentChild<ILoginViewModel, DTOLoginRequest>
@code
{
    protected override async Task OnInitializedAsync()
    {
        await CurrentViewModel.Login();
        if (!CurrentViewModel.LoginError)
            NaviMngr.NavigateTo("/", true);
    }
}